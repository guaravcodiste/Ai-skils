import React from 'react';
import { useNavigate } from 'react-router-dom';

const PracticeCard = ({ practice, isDark }) => {
    const navigate = useNavigate();

    const competencyTitle = practice.competencies?.[0]?.title ?? 'Beginner';

    const handleNavigate = () => {
        if (practice.canUserPerformedAssessment) {
            return navigate(`/pre-session-assessment/practice/${practice.id}`);
        } else {
            return navigate(`/session-start/${practice.id}`);
        }
    };

    return (
        <div
            // onClick={() => navigate(`/questionary/${practice.id}`)}
            onClick={handleNavigate}
            className={`rounded-xl md:rounded-[20px] border backdrop-blur-lg overflow-hidden cursor-pointer hover:opacity-90 transition-opacity ${
                isDark ? 'bg-[#2a2a2a] border-[#eeeeee1a]' : 'bg-white border-[#EEEEEE]'
            }`}
        >
            <div className="relative h-[110px] md:h-[190px] overflow-hidden">
                <img src={practice?.image || '/images/Product-Expert.png'} alt={practice?.name} className="w-full h-full object-cover" />
            </div>
            <div className="p-[16px] md:p-[30px]">
                <div className="flex justify-between items-end gap-[24px] md:gap-[78px]">
                    <div className="max-w-[500px]">
                        <h3 className={`text-[12px] md:text-[18px] font-semibold ${isDark ? 'text-white' : 'text-[#000000]'}`}>{practice?.name}</h3>
                        <p className={`text-[10px] md:text-[16px] font-light mb-[12px] md:mb-[16px] ${isDark ? 'text-[#CECECE]' : 'text-[#757575]'}`}>
                            {practice?.description}
                        </p>
                        <div className="flex items-center gap-4 md:gap-6 mb-4 md:mb-6">
                            <div className="flex items-center gap-2">
                                <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M6.5 1.21875C5.45547 1.21875 4.43439 1.52849 3.5659 2.1088C2.6974 2.68911 2.02049 3.51393 1.62076 4.47895C1.22104 5.44397 1.11645 6.50586 1.32023 7.53032C1.52401 8.55478 2.027 9.49581 2.76559 10.2344C3.50419 10.973 4.44522 11.476 5.46968 11.6798C6.49414 11.8835 7.55603 11.779 8.52105 11.3792C9.48607 10.9795 10.3109 10.3026 10.8912 9.4341C11.4715 8.56561 11.7813 7.54453 11.7813 6.5C11.7798 5.09978 11.2229 3.75733 10.2328 2.76723C9.24267 1.77712 7.90022 1.22023 6.5 1.21875ZM9.34375 6.90625H6.5C6.39226 6.90625 6.28893 6.86345 6.21274 6.78726C6.13655 6.71108 6.09375 6.60774 6.09375 6.5V3.65625C6.09375 3.54851 6.13655 3.44517 6.21274 3.36899C6.28893 3.2928 6.39226 3.25 6.5 3.25C6.60775 3.25 6.71108 3.2928 6.78726 3.36899C6.86345 3.44517 6.90625 3.54851 6.90625 3.65625V6.09375H9.34375C9.4515 6.09375 9.55483 6.13655 9.63101 6.21274C9.7072 6.28892 9.75 6.39226 9.75 6.5C9.75 6.60774 9.7072 6.71108 9.63101 6.78726C9.55483 6.86345 9.4515 6.90625 9.34375 6.90625Z"
                                        fill="#908471"
                                    />
                                </svg>
                                <span className={`text-[10px] md:text-[14px] font-medium ${isDark ? 'text-[#CECECE]' : 'text-[#757575]'}`}>15-20 min</span>
                            </div>
                            <div className="flex items-center gap-2">
                                <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M11.7812 10.5625C11.7812 10.6702 11.7384 10.7736 11.6623 10.8498C11.5861 10.9259 11.4827 10.9688 11.375 10.9688H1.625C1.51726 10.9688 1.41392 10.9259 1.33774 10.8498C1.26155 10.7736 1.21875 10.6702 1.21875 10.5625C1.21875 10.4548 1.26155 10.3514 1.33774 10.2752C1.41392 10.1991 1.51726 10.1562 1.625 10.1562H2.03125V6.90625C2.03125 6.79851 2.07405 6.69517 2.15024 6.61899C2.22642 6.5428 2.32976 6.5 2.4375 6.5H3.65625C3.76399 6.5 3.86733 6.5428 3.94351 6.61899C4.0197 6.69517 4.0625 6.79851 4.0625 6.90625V10.1562H4.875V4.46875C4.875 4.36101 4.9178 4.25767 4.99399 4.18149C5.07017 4.1053 5.17351 4.0625 5.28125 4.0625H6.90625C7.01399 4.0625 7.11733 4.1053 7.19351 4.18149C7.2697 4.25767 7.3125 4.36101 7.3125 4.46875V10.1562H8.125V2.03125C8.125 1.92351 8.1678 1.82017 8.24399 1.74399C8.32017 1.6678 8.42351 1.625 8.53125 1.625H10.5625C10.6702 1.625 10.7736 1.6678 10.8498 1.74399C10.9259 1.82017 10.9688 1.92351 10.9688 2.03125V10.1562H11.375C11.4827 10.1562 11.5861 10.1991 11.6623 10.2752C11.7384 10.3514 11.7812 10.4548 11.7812 10.5625Z"
                                        fill="#908471"
                                    />
                                </svg>
                                <span className={`text-[10px] md:text-[14px] font-medium ${isDark ? 'text-[#CECECE]' : 'text-[#757575]'}`}>{competencyTitle}</span>
                            </div>
                        </div>
                    </div>
                    <div className="flex justify-end">
                        <button className="p-0">
                            <svg
                                width="38"
                                height="38"
                                viewBox="0 0 38 38"
                                className="w-[24px] h-[24px] md:w-[38px] md:h-[38px]"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                            >
                                <path
                                    d="M18.8125 0C15.0917 0 11.4545 1.10333 8.36084 3.17048C5.26714 5.23762 2.8559 8.17573 1.43202 11.6133C0.00815116 15.0508 -0.364399 18.8334 0.361485 22.4826C1.08737 26.1319 2.87909 29.484 5.51006 32.1149C8.14104 34.7459 11.4931 36.5376 15.1424 37.2635C18.7916 37.9894 22.5742 37.6169 26.0117 36.193C29.4493 34.7691 32.3874 32.3579 34.4545 29.2642C36.5217 26.1705 37.625 22.5333 37.625 18.8125C37.6197 13.8247 35.636 9.04276 32.1091 5.51587C28.5822 1.98898 23.8003 0.00526717 18.8125 0ZM27.0719 19.8363L21.2835 25.6248C21.0119 25.8963 20.6436 26.0489 20.2596 26.0489C19.8756 26.0489 19.5073 25.8963 19.2358 25.6248C18.9643 25.3533 18.8117 24.985 18.8117 24.601C18.8117 24.2169 18.9643 23.8487 19.2358 23.5771L22.5551 20.2596H11.5769C11.1931 20.2596 10.8251 20.1072 10.5537 19.8358C10.2823 19.5644 10.1298 19.1963 10.1298 18.8125C10.1298 18.4287 10.2823 18.0606 10.5537 17.7892C10.8251 17.5178 11.1931 17.3654 11.5769 17.3654H22.5551L19.2358 14.0479C18.9643 13.7763 18.8117 13.408 18.8117 13.024C18.8117 12.64 18.9643 12.2717 19.2358 12.0002C19.5073 11.7287 19.8756 11.5761 20.2596 11.5761C20.6436 11.5761 21.0119 11.7287 21.2835 12.0002L27.0719 17.7887C27.2065 17.9231 27.3132 18.0827 27.386 18.2583C27.4589 18.434 27.4963 18.6223 27.4963 18.8125C27.4963 19.0027 27.4589 19.191 27.386 19.3667C27.3132 19.5423 27.2065 19.7019 27.0719 19.8363Z"
                                    fill={isDark ? 'white' : 'black'}
                                />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    );
};

export default PracticeCard;
